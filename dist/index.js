parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"JB6j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=require("request"),t=!0,e=t?"http://localhost:4000":"https://llamalogs.com",s=function(){function s(){}return s.sendMessages=function(s,n){Date.now();var r=[];Object.keys(s).forEach(function(o){Object.keys(s[o]).forEach(function(t){r.push({sender:o,receiver:t,count:s[o][t].total,errorCount:s[o][t].errors,log:s[o][t].log,errorLog:s[o][t].errorLog,clientTimestamp:Date.now(),graph:s[o][t].graph||"noGraph",account:s[o][t].account,initialMessageCount:s[o][t].initialMessageCount})})}),t&&(console.log("messageArr"),console.log(r));var a={time_logs:r},i={url:e+"/api/timelogs",method:"post",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}};r.length&&o(i,function(o,t,e){});var c=[];Object.keys(n).forEach(function(o){Object.keys(n[o]).forEach(function(t){var e=n[o][t];e.clientTimestamp=e.timestamp,c.push(e)})}),t&&(console.log("statlist"),console.log(c));var l={time_stats:c},u={url:e+"/api/timestats",method:"post",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}};c.length&&o(u,function(o,t,e){console.log("stats body"),console.log(e)})},s}();exports.default=s;
},{}],"vKxM":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./llamaProxy")),n={},o={},a=null,r=0,i={},s=function(){function e(){}return e.startSending=function(){e.setNewTimeout()},e.addTime=function(){if(a){if(r<Date.now()-24500)return;clearTimeout(a),e.setNewTimeout()}else e.setNewTimeout()},e.setNewTimeout=function(){var e=this;a=setTimeout(function(){a=null,e.sendMessages()},5e3)},e.sendMessages=function(){r=Date.now();var e=n;n={};var a=o;o={},t.default.sendMessages(e,a)},e.addStat=function(t){e.addTime(),"point"===t.type&&(o[t.component]=o[t.component]||{},o[t.component][t.name]=t),"average"===t.type&&e.addStatAvg(t),"max"===t.type&&e.addStatMax(t)},e.addStatAvg=function(e){if(o[e.component]=o[e.component]||{},!o[e.component][e.name])return o[e.component][e.name]=e,void(e.count=0);var t=o[e.component][e.name],n=t.value+e.value;t.value=n,t.count=t.count+1},e.addStatMax=function(e){if(o[e.component]=o[e.component]||{},o[e.component][e.name]){var t=o[e.component][e.name],n=t.value;e.value<n||(t.value=e.value)}else o[e.component][e.name]=e},e.addStatUniq=function(){},e.addMessage=function(t){e.addTime();var o,a;n[t.sender]=n[t.sender]||{},n[t.sender][t.receiver]=n[t.sender][t.receiver]||(o=t.sender,a=t.receiver,{sender:o,receiver:a,account:t.account,total:0,errors:0,elapsed:0,log:"",errorLog:"",initialMessageCount:0,graph:t.graph});var r=n[t.sender][t.receiver];if(t.error&&r.errors++,t.elapsed){var i=r.elapsed*r.total;r.elapsed=(i+t.elapsed)/(r.total+1)}t.initialMessage&&r.initialMessageCount++,r.total++,r.log||t.error||(r.log=t.log),!r.errorLog&&t.error&&(r.errorLog=t.log)},e}();exports.default=s;
},{"./llamaProxy":"JB6j"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var a=[],r=t(require("./logAggregator")),n="",o="",i=function(){function t(){}return t.init=function(e){var t=e.accountKey,a=void 0===t?"":t,r=e.graphName;n=a,o=void 0===r?"":r},t.pointStat=function(a){t.stat(e(e({},a),{type:"point"}))},t.avgStat=function(a){t.stat(e(e({},a),{type:"average"}))},t.maxStat=function(a){t.stat(e(e({},a),{type:"max"}))},t.stat=function(e){var t=e.component,a=e.type,i=e.name,s=e.value,u=e.graphName,c=e.accountKey;if(t&&a&&i&&s){var p={component:t,timestamp:Date.now(),name:i,value:s,type:a,account:c||n,graph:u||o};r.default.addStat(p)}},t.log=function(e){var t=Date.now(),a=e.sender,i=e.receiver,s=e.log,u=e.graphName,c=e.accountKey,p=e.error;if(a&&i&&(u||o)){var g={sender:a,receiver:i,timestamp:t,log:s||"",initialMessage:!0,account:c||n||-1,graph:u||o,error:p||!1};r.default.addMessage(g);return function(e){void 0===e&&(e={});var s=e.error,c=void 0!==s&&s,p=e.log,g=void 0===p?"":p,f=Date.now(),d={sender:i,receiver:a,timestamp:f,elapsed:f-t,error:c,log:g,initialMessage:!1,account:n||-1,graph:u||o};r.default.addMessage(d)}}},t.forceSend=function(){r.default.sendMessages()},t.messages=function(){return a},t}();exports.LlamaLogs=i,exports.LLL=i;
},{"./logAggregator":"vKxM"}]},{},["QCba"], null)